"use strict";(self.webpackChunkproject_tu_tea_angular_23=self.webpackChunkproject_tu_tea_angular_23||[]).push([[312],{5312:(k,s,n)=>{n.r(s),n.d(s,{OrderModule:()=>B});var a=n(6895),d=n(646),p=n(727),f=n(9751),v=n(8505),o=n(433);class m{static phoneNumberValidator(t){return/^\+?[1-9]{1}[0-9]{10}$/.test(t.value)?null:{phone:{value:t.value}}}static addressValidator(t){return/^[\w\s\u0410-\u042f\u0430-\u044f\/-]+$/.test(t.value)?null:{address:{value:t.value}}}}var u=n(8256),_=n(4736);function h(r,t){1&r&&(u.TgZ(0,"h2",7),u._uU(1,"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437"),u.qZA())}function g(r,t){1&r&&(u.TgZ(0,"div")(1,"div",8),u._uU(2," \u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0437\u0430\u043a\u0430\u0437! "),u.qZA()())}function b(r,t){1&r&&(u.TgZ(0,"div",33),u._uU(1," \u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0447\u0430\u044f "),u.qZA())}function Z(r,t){1&r&&(u.TgZ(0,"div",35),u._uU(1," \u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0438\u043c\u044f "),u.qZA())}function N(r,t){1&r&&(u.TgZ(0,"div",35),u._uU(1," \u041d\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u0438\u043c\u044f "),u.qZA())}function A(r,t){if(1&r&&(u.TgZ(0,"div",34),u.YNc(1,Z,2,0,"div",24),u.YNc(2,N,2,0,"div",24),u.qZA()),2&r){const e=u.oxw(2);u.xp6(1),u.Q6J("ngIf",null==e.name||null==e.name.errors?null:e.name.errors.required),u.xp6(1),u.Q6J("ngIf",null==e.name||null==e.name.errors?null:e.name.errors.pattern)}}function C(r,t){1&r&&(u.TgZ(0,"div",35),u._uU(1," \u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u044e "),u.qZA())}function x(r,t){1&r&&(u.TgZ(0,"div",35),u._uU(1," \u041d\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0430\u044f \u0444\u0430\u043c\u0438\u043b\u0438\u044f "),u.qZA())}function O(r,t){if(1&r&&(u.TgZ(0,"div",34),u.YNc(1,C,2,0,"div",24),u.YNc(2,x,2,0,"div",24),u.qZA()),2&r){const e=u.oxw(2);u.xp6(1),u.Q6J("ngIf",null==e.lastName||null==e.lastName.errors?null:e.lastName.errors.required),u.xp6(1),u.Q6J("ngIf",null==e.lastName||null==e.lastName.errors?null:e.lastName.errors.pattern)}}function T(r,t){1&r&&(u.TgZ(0,"div",35),u._uU(1," \u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0442\u0435\u043b\u0435\u0444\u043e\u043d "),u.qZA())}function y(r,t){1&r&&(u.TgZ(0,"div",35),u._uU(1," \u041d\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 "),u.qZA())}function q(r,t){if(1&r&&(u.TgZ(0,"div",34),u.YNc(1,T,2,0,"div",24),u.YNc(2,y,2,0,"div",24),u.qZA()),2&r){const e=u.oxw(2);u.xp6(1),u.Q6J("ngIf",null==e.phone||null==e.phone.errors?null:e.phone.errors.required),u.xp6(1),u.Q6J("ngIf",null==e.phone||null==e.phone.errors?null:e.phone.errors.phone)}}function F(r,t){1&r&&(u.TgZ(0,"div",35),u._uU(1," \u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0443 "),u.qZA())}function I(r,t){1&r&&(u.TgZ(0,"div",35),u._uU(1," \u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0438\u043d\u0434\u0435\u043a\u0441 "),u.qZA())}function U(r,t){1&r&&(u.TgZ(0,"div",35),u._uU(1," \u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 "),u.qZA())}function D(r,t){1&r&&(u.TgZ(0,"div",35),u._uU(1," \u041d\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 "),u.qZA())}function E(r,t){if(1&r&&(u.TgZ(0,"div",34),u.YNc(1,U,2,0,"div",24),u.YNc(2,D,2,0,"div",24),u.qZA()),2&r){const e=u.oxw(2);u.xp6(1),u.Q6J("ngIf",null==e.address||null==e.address.errors?null:e.address.errors.required),u.xp6(1),u.Q6J("ngIf",null==e.address||null==e.address.errors?null:e.address.errors.address)}}function J(r,t){if(1&r){const e=u.EpF();u.TgZ(0,"form",9),u.NdJ("ngSubmit",function(){u.CHM(e);const i=u.oxw();return u.KtG(i.sentOrder())}),u.TgZ(1,"div",10)(2,"div",11)(3,"label",12),u._uU(4,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0447\u0430\u044f"),u.qZA(),u._UZ(5,"input",13),u.qZA(),u.YNc(6,b,2,0,"div",14),u.qZA(),u.TgZ(7,"div",10)(8,"div",11)(9,"label",15),u._uU(10,"\u0418\u043c\u044f"),u.qZA(),u._UZ(11,"input",16),u.YNc(12,A,3,2,"div",17),u.qZA(),u.TgZ(13,"div",11)(14,"label",18),u._uU(15,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),u.qZA(),u._UZ(16,"input",19),u.YNc(17,O,3,2,"div",17),u.qZA(),u.TgZ(18,"div",11)(19,"label",20),u._uU(20,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),u.qZA(),u._UZ(21,"input",21),u.YNc(22,q,3,2,"div",17),u.qZA()(),u.TgZ(23,"div",10)(24,"div",11)(25,"label",22),u._uU(26,"\u0421\u0442\u0440\u0430\u043d\u0430"),u.qZA(),u._UZ(27,"input",23),u.YNc(28,F,2,0,"div",24),u.qZA(),u.TgZ(29,"div",11)(30,"label",25),u._uU(31,"\u0418\u043d\u0434\u0435\u043a\u0441"),u.qZA(),u._UZ(32,"input",26),u.YNc(33,I,2,0,"div",24),u.qZA()(),u.TgZ(34,"div",10)(35,"div",27)(36,"label",28),u._uU(37,"\u0410\u0434\u0440\u0435\u0441"),u.qZA(),u._UZ(38,"input",29),u.YNc(39,E,3,2,"div",17),u.qZA()(),u.TgZ(40,"div",10)(41,"div",11)(42,"label",30),u._uU(43,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u0437\u0430\u043a\u0430\u0437\u0443"),u.qZA(),u._UZ(44,"textarea",31),u.qZA()(),u.TgZ(45,"button",32),u._uU(46," \u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c "),u.qZA()()}if(2&r){const e=u.oxw();u.Q6J("formGroup",e.orderForm),u.xp6(6),u.Q6J("ngIf",(null==e.orderName?null:e.orderName.invalid)&&((null==e.orderName?null:e.orderName.dirty)||(null==e.orderName?null:e.orderName.touched))&&(null==e.orderName||null==e.orderName.errors?null:e.orderName.errors.required)),u.xp6(6),u.Q6J("ngIf",(null==e.name?null:e.name.invalid)&&((null==e.name?null:e.name.dirty)||(null==e.name?null:e.name.touched))),u.xp6(5),u.Q6J("ngIf",(null==e.lastName?null:e.lastName.invalid)&&((null==e.lastName?null:e.lastName.dirty)||(null==e.lastName?null:e.lastName.touched))),u.xp6(5),u.Q6J("ngIf",(null==e.phone?null:e.phone.invalid)&&((null==e.phone?null:e.phone.dirty)||(null==e.phone?null:e.phone.touched))),u.xp6(6),u.Q6J("ngIf",(null==e.country?null:e.country.invalid)&&((null==e.country?null:e.country.dirty)||(null==e.country?null:e.country.touched))&&(null==e.country||null==e.country.errors?null:e.country.errors.required)),u.xp6(5),u.Q6J("ngIf",(null==e.postcode?null:e.postcode.invalid)&&((null==e.postcode?null:e.postcode.dirty)||(null==e.postcode?null:e.postcode.touched))&&(null==e.postcode||null==e.postcode.errors?null:e.postcode.errors.required)),u.xp6(6),u.Q6J("ngIf",(null==e.address?null:e.address.invalid)&&((null==e.address?null:e.address.dirty)||(null==e.address?null:e.address.touched))),u.xp6(6),u.Q6J("disabled",e.isSubmitButtonDisabled)}}function S(r,t){1&r&&(u.TgZ(0,"div",36),u._uU(1," \u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437. "),u.qZA())}const w=[{path:"",component:(()=>{class r{constructor(e,l,i){this.activateRoute=e,this.fb=l,this.productsService=i,this.subscription=new p.w0,this.isSubmitButtonDisabled=!0,this.isShowMessageCreateOrder=!1,this.isShowErrorCreateOrder=!1,this.orderForm=this.fb.group({orderName:["",[o.kI.required]],name:["",[o.kI.required,o.kI.pattern("^[A-Za-z\u0410-\u042f\u0430-\u044f]+$")]],lastName:["",[o.kI.required,o.kI.pattern("^[A-Za-z\u0410-\u042f\u0430-\u044f]+$")]],phone:["",[o.kI.required,m.phoneNumberValidator]],country:["",[o.kI.required]],postcode:["",[o.kI.required]],address:["",[o.kI.required,m.addressValidator]],comment:[""]}),this.observableError=new f.y(Q=>{this.isShowErrorCreateOrder=!0;const M=setTimeout(()=>{Q.next(!1)},3e3);return{unsubscribe(){clearTimeout(M)}}})}get orderName(){return this.orderForm.get("orderName")}get name(){return this.orderForm.get("name")}get lastName(){return this.orderForm.get("lastName")}get phone(){return this.orderForm.get("phone")}get country(){return this.orderForm.get("country")}get postcode(){return this.orderForm.get("postcode")}get address(){return this.orderForm.get("address")}ngOnInit(){this.subscription.add(this.activateRoute.queryParams.subscribe(e=>{e.product&&(this.orderForm.controls.orderName.setValue(e.product),this.orderForm.controls.orderName.disable())})),this.subscription.add(this.orderForm.statusChanges.subscribe(e=>{this.isSubmitButtonDisabled="VALID"!==e}))}ngOnDestroy(){this.subscription.unsubscribe()}sentOrder(){this.isShowErrorCreateOrder=!1,this.isSubmitButtonDisabled=!0,this.subscription.add(this.productsService.createOrder({name:this.orderForm.controls.name.value,last_name:this.orderForm.controls.lastName.value,phone:this.orderForm.controls.phone.value,country:this.orderForm.controls.country.value,zip:this.orderForm.controls.postcode.value,product:this.orderForm.controls.orderName.value,address:this.orderForm.controls.address.value,comment:this.orderForm.controls.comment.value}).pipe((0,v.b)(()=>{this.isSubmitButtonDisabled=!1,this.orderForm.controls.orderName.enable()})).subscribe({next:e=>{1!=+e.success||e.message?this.subscription.add(this.observableError.subscribe(l=>{this.isShowErrorCreateOrder=l})):(this.orderForm.reset(),this.isShowMessageCreateOrder=!0)},error:()=>{this.isSubmitButtonDisabled=!1,this.subscription.add(this.observableError.subscribe(e=>{this.isShowErrorCreateOrder=e}))}}))}}return r.\u0275fac=function(e){return new(e||r)(u.Y36(d.gz),u.Y36(o.qu),u.Y36(_.s))},r.\u0275cmp=u.Xpm({type:r,selectors:[["order-component"]],decls:7,vars:4,consts:[[1,"pt-4","pb-5"],[1,"container"],["class","fw-bold text-center mb-5",4,"ngIf"],[1,"wrap__form","mx-auto"],[4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],["class","text-danger mt-2",4,"ngIf"],[1,"fw-bold","text-center","mb-5"],[1,"text-center"],[3,"formGroup","ngSubmit"],[1,"row","mb-3"],[1,"col-md"],["for","orderName",1,"form-label"],["type","text","formControlName","orderName","id","orderName",1,"form-control","mb-2"],["class","w-100 invalid-feedback",4,"ngIf"],["for","name",1,"form-label"],["type","text","id","name","formControlName","name",1,"form-control","mb-2"],["class","w-100",4,"ngIf"],["for","lastName",1,"form-label"],["type","text","id","lastName","formControlName","lastName",1,"form-control","mb-2"],["for","phone",1,"form-label"],["type","tel","id","phone","formControlName","phone",1,"form-control","mb-2"],["for","country",1,"form-label"],["type","text","id","country","formControlName","country",1,"form-control","mb-2"],["class","invalid-feedback",4,"ngIf"],["for","postcode",1,"form-label"],["type","text","id","postcode","formControlName","postcode",1,"form-control","mb-2"],[1,"col"],["for","address",1,"form-label"],["type","text","id","address","formControlName","address",1,"form-control","mb-2"],["for","comment",1,"form-label"],["id","comment",1,"form-control","mb-2"],["type","submit",1,"btn","btn-primary","mt-4","hvr-shadow",2,"--bs-btn-padding-y",".37rem","--bs-btn-padding-x","2.75rem",3,"disabled"],[1,"w-100","invalid-feedback"],[1,"w-100"],[1,"invalid-feedback"],[1,"text-danger","mt-2"]],template:function(e,l){1&e&&(u.TgZ(0,"section",0)(1,"div",1),u.YNc(2,h,2,0,"h2",2),u.TgZ(3,"div",3),u.YNc(4,g,3,0,"div",4),u.YNc(5,J,47,9,"form",5),u.YNc(6,S,2,0,"div",6),u.qZA()()()),2&e&&(u.xp6(2),u.Q6J("ngIf",!l.isShowMessageCreateOrder),u.xp6(2),u.Q6J("ngIf",l.isShowMessageCreateOrder),u.xp6(1),u.Q6J("ngIf",!l.isShowMessageCreateOrder),u.xp6(1),u.Q6J("ngIf",l.isShowErrorCreateOrder))},dependencies:[a.O5,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u],styles:["input.ng-invalid.ng-dirty[_ngcontent-%COMP%], input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:red}.invalid-feedback[_ngcontent-%COMP%]{display:block}"]}),r})()}];let c=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({imports:[d.Bz.forChild(w),d.Bz]}),r})();var Y=n(4466);let B=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({imports:[a.ez,Y.m,o.UX,d.Bz,c,c]}),r})()}}]);