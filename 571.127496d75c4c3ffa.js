"use strict";(self.webpackChunkproject_tu_tea_angular_23=self.webpackChunkproject_tu_tea_angular_23||[]).push([[571],{7571:(O,a,s)=>{s.r(a),s.d(a,{ProductsModule:()=>L});var c=s(6895),i=s(646),d=s(727),p=s(8505),l=s(5577),t=s(8256),m=s(4736),g=s(3095);let f=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["loader"]],decls:4,vars:0,consts:[[1,"position-absolute","top-0","bottom-0","start-0","end-0","d-flex","align-items-center","justify-content-center","bg-dark",2,"--bs-bg-opacity",".5"],["role","status",1,"spinner-border","text-success"],[1,"visually-hidden"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span",2),t._uU(3,"Loading..."),t.qZA()()())}}),r})(),b=(()=>{class r{transform(e,o){return e.length>o?e.substring(0,o)+"...":e}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275pipe=t.Yjl({name:"shortenText",type:r,pure:!0}),r})();const v=function(r){return["/products",r]};let y=(()=>{class r{constructor(){this._product={}}get product(){return this._product}set product(e){this._product=e}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["tea-card"]],inputs:{product:"product"},decls:12,vars:10,consts:[[1,"col","d-flex","justify-content-center"],[1,"card",2,"width","26rem"],[1,"product__image","cursor-zoom-in",3,"href"],["alt","tea bag",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title","fw-bold","pb-1"],[1,"card-text","pb-1","mb-4"],[1,"btn","btn-primary","hvr-shadow",2,"--bs-btn-padding-y",".37rem","--bs-btn-padding-x","3.34rem",3,"routerLink"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t._UZ(3,"img",3),t.qZA(),t.TgZ(4,"div",4)(5,"h5",5),t._uU(6),t.qZA(),t.TgZ(7,"p",6),t._uU(8),t.ALo(9,"shortenText"),t.qZA(),t.TgZ(10,"a",7),t._uU(11,"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"),t.qZA()()()()),2&e&&(t.xp6(2),t.s9C("href",o.product.image,t.LSH),t.xp6(1),t.s9C("src",o.product.image,t.LSH),t.xp6(3),t.Oqu(o.product.title),t.xp6(2),t.Oqu(t.xi3(9,5,o.product.description,100)),t.xp6(2),t.Q6J("routerLink",t.VKq(8,v,o.product.id)))},dependencies:[i.yS,b]}),r})();function C(r,n){1&r&&t._UZ(0,"tea-card",6),2&r&&t.Q6J("product",n.$implicit)}function Z(r,n){1&r&&(t.TgZ(0,"div"),t._uU(1," \u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"),t.qZA())}function S(r,n){1&r&&t._UZ(0,"loader")}let T=(()=>{class r{constructor(e,o,u,F){this.productsService=e,this.router=o,this.activateRoute=u,this.searchService=F,this.subscription=new d.w0,this.products=[],this.isLoading=!1,this.title="\u041d\u0430\u0448\u0438 \u0447\u0430\u0439\u043d\u044b\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438",this.isEmptySearchData=!1}ngOnInit(){this.searchService.searchString&&(this.title=`\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 ${this.searchService.searchString}`),this.subscription.add(this.productsService.getProducts(this.searchService.searchString).pipe((0,p.b)(()=>{this.isLoading=!1,this.isEmptySearchData=!1})).subscribe({next:e=>{e.length<=0&&(this.isEmptySearchData=!0),this.products=e},error:e=>{console.log(e),this.router.navigate(["/"])}})),this.subscription.add(this.searchService.searchString$.pipe((0,l.z)(e=>(this.title=e?`\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 ${e}`:"\u041d\u0430\u0448\u0438 \u0447\u0430\u0439\u043d\u044b\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438",this.productsService.getProducts(e))),(0,p.b)(()=>{this.isLoading=!1,this.isEmptySearchData=!1})).subscribe({next:e=>{e.length<=0&&(this.isEmptySearchData=!0),this.products=e},error:e=>{console.log(e),this.router.navigate(["/"])}}))}ngOnDestroy(){this.subscription.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(m.s),t.Y36(i.F0),t.Y36(i.gz),t.Y36(g.o))},r.\u0275cmp=t.Xpm({type:r,selectors:[["products-component"]],decls:8,vars:4,consts:[[1,"pt-4","pb-5"],[1,"container"],[1,"fw-bold","text-center","mb-5"],[1,"row","row-cols-auto","g-4","justify-content-center"],[3,"product",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"product"]],template:function(e,o){1&e&&(t.TgZ(0,"section",0)(1,"div",1)(2,"h2",2),t._uU(3),t.qZA(),t.TgZ(4,"div",3),t.YNc(5,C,1,1,"tea-card",4),t.YNc(6,Z,2,0,"div",5),t.qZA()()(),t.YNc(7,S,1,0,"loader",5)),2&e&&(t.xp6(3),t.Oqu(o.title),t.xp6(2),t.Q6J("ngForOf",o.products),t.xp6(1),t.Q6J("ngIf",o.isEmptySearchData),t.xp6(1),t.Q6J("ngIf",o.isLoading))},dependencies:[c.sg,c.O5,f,y]}),r})();var x=s(9646);const P=function(r){return{product:r}},A=[{path:"",component:T},{path:":id",component:(()=>{class r{constructor(e,o,u){this.productsService=e,this.router=o,this.activateRoute=u,this.product={},this.subscription=new d.w0}ngOnInit(){this.subscription.add(this.activateRoute.params.pipe((0,l.z)(e=>e.id?this.productsService.getProduct(e.id):(0,x.of)())).subscribe({next:e=>this.product=e,error:e=>{console.log(e),this.router.navigate(["/"])}}))}ngOnDestroy(){this.subscription.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(m.s),t.Y36(i.F0),t.Y36(i.gz))},r.\u0275cmp=t.Xpm({type:r,selectors:[["product-component"]],decls:14,vars:7,consts:[[1,"container","d-flex","justify-content-center"],[1,"d-flex","flex-column","align-text-center","justify-content-center","align-items-center"],[1,"text-center"],[1,"card-title","fw-bold","pb-1"],[1,"card-title","fw-bold","pb-1","text-success"],[1,"w-50"],["alt","tea bag",1,"card-img-top",3,"src"],[1,"card-body","mb-4"],[1,"card-text","pb-1","mb-4"],["routerLink","/order",1,"btn","btn-primary","hvr-shadow",2,"--bs-btn-padding-y",".37rem","--bs-btn-padding-x","3.34rem",3,"queryParams"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),t._uU(4),t.qZA(),t.TgZ(5,"h3",4),t._uU(6),t.qZA()(),t.TgZ(7,"div",5),t._UZ(8,"img",6),t.qZA(),t.TgZ(9,"div",7)(10,"p",8),t._uU(11),t.qZA(),t.TgZ(12,"a",9),t._uU(13,"\u041a\u0443\u043f\u0438\u0442\u044c"),t.qZA()()()()),2&e&&(t.xp6(4),t.Oqu(o.product.title),t.xp6(2),t.hij("\u0426\u0435\u043d\u0430: ",o.product.price," \u0444\u0443\u043d\u0442 \u0441\u0442\u0435\u0440\u043b\u0438\u043d\u0433 (\xa3)."),t.xp6(2),t.s9C("src",o.product.image,t.LSH),t.xp6(3),t.Oqu(o.product.description),t.xp6(1),t.Q6J("queryParams",t.VKq(5,P,o.product.title)))},dependencies:[i.yS]}),r})()}];let h=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[i.Bz.forChild(A),i.Bz]}),r})();var D=s(4466);let L=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[c.ez,D.m,i.Bz,h,h]}),r})()}}]);